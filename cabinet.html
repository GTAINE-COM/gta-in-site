<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞–±—ñ–Ω–µ—Ç ‚Äî GTAINE</title>
  <meta name="description" content="–û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç GTAINE ‚Äî –ø—Ä–æ—Ñ—ñ–ª—å, –º–∞–π–Ω–æ, —Ä–µ–π—Ç–∏–Ω–≥, —Ä—É–ª–µ—Ç–∫–∞." />
  <link rel="stylesheet" href="assets/style.css" />
  <link rel="icon" type="image/svg+xml" href="assets/gtaine-logo.svg">

  <style>
    /* --- CABINET (–¥–æ–±–∞–≤–∫–∞, –º–æ–∂–Ω–æ –ø–æ—Ç–æ–º –≤—ã–Ω–µ—Å—Ç–∏ –≤ style.css) --- */
    .cab-wrap{padding:28px 0 60px}
    .cab-grid{display:grid;grid-template-columns:320px 1fr;gap:18px;align-items:start}
    @media (max-width: 980px){.cab-grid{grid-template-columns:1fr}.cab-side{position:static}}
    .cab-card{background:rgba(10,12,18,.55);border:1px solid rgba(255,255,255,.08);border-radius:18px;backdrop-filter: blur(10px);box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .cab-side{position:sticky;top:88px;padding:16px}
    .cab-badge{display:flex;gap:12px;align-items:center;padding:14px;margin-bottom:10px}
    .cab-badge .shield{width:44px;height:44px;border-radius:14px;background:linear-gradient(135deg, rgba(255,255,255,.15), rgba(255,255,255,.03));display:grid;place-items:center;border:1px solid rgba(255,255,255,.10)}
    .cab-badge .shield span{font-weight:900}
    .cab-badge .meta{line-height:1.15}
    .cab-badge .meta .t{font-weight:800}
    .cab-badge .meta .s{opacity:.75;font-size:13px;margin-top:4px}

    .cab-nav{display:flex;flex-direction:column;gap:10px;margin-top:12px}
    .cab-nav button{
      width:100%;
      text-align:left;
      padding:14px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.04);
      color:#fff;
      cursor:pointer;
      font-weight:700;
      display:flex;
      gap:10px;
      align-items:center;
      transition:.15s ease;
    }
    .cab-nav button:hover{transform:translateY(-1px);background:rgba(255,255,255,.06)}
    .cab-nav button.active{
      background:linear-gradient(90deg, rgba(255,70,55,.95), rgba(255,140,60,.92));
      border-color:rgba(255,255,255,.12);
      box-shadow:0 14px 26px rgba(255,90,40,.18)
    }
    .cab-nav .muted{opacity:.8;font-weight:600}
    .cab-logout{
      margin-top:14px;
      background:linear-gradient(90deg, rgba(255,40,60,.95), rgba(140,20,40,.95)) !important;
    }

    .cab-main{padding:16px}
    .cab-head{display:flex;justify-content:space-between;gap:12px;align-items:center;margin-bottom:14px}
    .cab-head h1{margin:0;font-size:28px;letter-spacing:.2px}
    .cab-sub{opacity:.75;margin:2px 0 0}

    .kpi{display:grid;grid-template-columns:1.2fr repeat(3, 1fr);gap:14px;margin-top:14px}
    @media (max-width: 1100px){.kpi{grid-template-columns:1fr 1fr}.kpi .wide{grid-column:1/-1}}
    .kpi .box{padding:16px}
    .kpi .title{opacity:.75;font-size:13px}
    .kpi .value{font-weight:900;font-size:26px;margin-top:6px}
    .kpi .hint{opacity:.65;font-size:12px;margin-top:6px}

    .profile{display:flex;gap:14px;align-items:center}
    .avatar{
      width:72px;height:72px;border-radius:22px;
      background:linear-gradient(135deg, rgba(255,255,255,.14), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.10);
      display:grid;place-items:center;
      font-weight:900;
      overflow:hidden;
    }
    .avatar img{width:100%;height:100%;object-fit:cover}
    .pname{font-weight:900;font-size:18px}
    .pid{opacity:.75;font-size:13px;margin-top:2px}

    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:14px}
    @media (max-width: 900px){.grid2{grid-template-columns:1fr}}
    .table{width:100%;border-collapse:separate;border-spacing:0 10px}
    .table th{opacity:.7;font-weight:800;text-align:left;font-size:12px;padding:0 10px}
    .row{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}
    .row td{padding:14px 10px}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);font-weight:800;font-size:12px}

    /* --- LOGIN --- */
    .auth{max-width:920px;margin:0 auto}
    .auth-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    @media (max-width: 980px){.auth-grid{grid-template-columns:1fr}}
    .auth .box{padding:18px}
    .field{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .field label{opacity:.75;font-weight:700;font-size:13px}
    .field input{
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius:12px;
      padding:12px 12px;
      color:#fff;
      outline:none;
    }
    .field input:focus{border-color:rgba(255,140,60,.55);box-shadow:0 0 0 4px rgba(255,140,60,.12)}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:12px 14px;border-radius:14px;border:0;cursor:pointer;font-weight:900;
      color:#0b0f14;
      background:linear-gradient(90deg, #ff6a2b, #ffb23a);
      box-shadow:0 16px 28px rgba(255,122,40,.18);
    }
    .btn.secondary{
      background:rgba(255,255,255,.08);
      color:#fff;border:1px solid rgba(255,255,255,.12);
      box-shadow:none;
    }
    .auth-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .msg{margin-top:10px;opacity:.9}
    .msg.bad{color:#ff7a7a}
    .msg.good{color:#7affb2}

    .hide{display:none !important;}
  </style>
</head>

<body>
  <!-- TOPBAR (–∫–∞–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π) -->
  <header class="topbar">
    <div class="container topbar__inner">
      <a class="brand" href="./">
        <img class="brand__badge" src="assets/logo.png" alt="GTAINE">
        <span class="brand__name">
          <span class="brand__title">GTAINE</span>
          <span class="brand__sub">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π RP-–ø—Ä–æ–µ–∫—Ç</span>
        </span>
      </a>

      <div class="navwrap">
        <nav class="nav">
          <a class="nav__link" href="./">–ì–æ–ª–æ–≤–Ω–∞</a>
          <a class="nav__link" href="./forum.html">–§–æ—Ä—É–º</a>
          <a class="nav__link" href="./wiki/">–í—ñ–∫—ñ</a>
          <a class="nav__link" href="./roulette.html">–†—É–ª–µ—Ç–∫–∞</a>
          <a class="nav__link" href="./giveaway.html">–†–æ–∑—ñ–≥—Ä–∞—à</a>
          <a class="nav__link" href="./download.html">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</a>
        </nav>
        <a class="chip is-active" href="./cabinet.html">–ö–∞–±—ñ–Ω–µ—Ç</a>
      </div>
    </div>
  </header>

  <main class="cab-wrap">
    <div class="container">
      <!-- LOGIN -->
      <section id="auth" class="auth cab-card">
        <div class="cab-main">
          <div class="cab-head">
            <div>
              <h1>–û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç</h1>
              <div class="cab-sub">–í—Ö—ñ–¥ –ø–æ <b>–ø–æ—à—Ç—ñ</b> —Ç–∞ <b>–ø–∞—Ä–æ–ª—é</b> (–¥–µ–º–æ –Ω–∞ —Å–∞–π—Ç—ñ). –ü—ñ–∑–Ω—ñ—à–µ –ø—ñ–¥–∫–ª—é—á–∏–º–æ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π API –∑ –≥—Ä–∏.</div>
            </div>
          </div>

          <div class="auth-grid">
            <div class="box cab-card">
              <div style="font-weight:900;font-size:16px">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</div>

              <div class="field">
                <label>–ü–æ—à—Ç–∞</label>
                <input id="email" type="email" placeholder="you@email.com" autocomplete="username">
              </div>

              <div class="field">
                <label>–ü–∞—Ä–æ–ª—å</label>
                <input id="pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
              </div>

              <div class="auth-actions">
                <button class="btn" id="btnLogin">–£–≤—ñ–π—Ç–∏</button>
                <button class="btn secondary" id="btnDemo">–î–µ–º–æ-–≤—Ö—ñ–¥ (—Ç–µ—Å—Ç)</button>
              </div>

              <div id="authMsg" class="msg"></div>
            </div>

            <div class="box cab-card">
              <div style="font-weight:900;font-size:16px">–©–æ –±—É–¥–µ –≤ –∫–∞–±—ñ–Ω–µ—Ç—ñ</div>
              <ul style="margin:12px 0 0;opacity:.85;line-height:1.55">
                <li>–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (–Ω—ñ–∫, ID, —Å—Ç–∞—Ç—É—Å, –≥—Ä–æ—à—ñ)</li>
                <li>–í–∞—à–µ –º–∞–π–Ω–æ (–±—É–¥–∏–Ω–∫–∏, –±—ñ–∑–Ω–µ—Å–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)</li>
                <li>–†–µ–π—Ç–∏–Ω–≥ (FORBES)</li>
                <li>–Ü–≥—Ä–æ–≤–∞ —Ä—É–ª–µ—Ç–∫–∞</li>
              </ul>
              <div style="margin-top:12px;opacity:.7;font-size:12px">
                ‚ö†Ô∏è –ó–∞—Ä–∞–∑ —Ü–µ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∞ –≤–µ—Ä—Å—ñ—è –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞. –î–ª—è ‚Äú—è–∫ –≤ –≥—Ä—ñ‚Äù –ø–æ—Ç—Ä—ñ–±–µ–Ω API.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- DASHBOARD -->
      <section id="dash" class="hide">
        <div class="cab-grid">
          <!-- SIDE -->
          <aside class="cab-side cab-card">
            <div class="cab-badge cab-card">
              <div class="shield"><span id="srv">GI</span></div>
              <div class="meta">
                <div class="t" id="region">GTAINE</div>
                <div class="s"><span id="who">‚Äî</span></div>
              </div>
            </div>

            <div class="cab-nav">
              <button class="active" data-tab="info">üëã <span>–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</span></button>
              <button data-tab="property">üöó <span>–í–∞—à–µ –º–∞–π–Ω–æ</span></button>
              <button data-tab="rating">üèÜ <span>–†–µ–π—Ç–∏–Ω–≥ (FORBES)</span></button>
              <button data-tab="roulette">üé∞ <span>–Ü–≥—Ä–æ–≤–∞ —Ä—É–ª–µ—Ç–∫–∞</span></button>
              <button class="cab-logout" id="btnLogout">üö™ <span>–í–∏–π—Ç–∏ –∑ –∫–∞–±—ñ–Ω–µ—Ç—É</span></button>
              <div class="muted" style="margin-top:6px;font-size:12px;opacity:.65">
                –î–∞–Ω—ñ –∑–∞—Ä–∞–∑ –¥–µ–º–æ. –ü—ñ–¥–∫–ª—é—á–∏–º–æ API ‚Äî –±—É–¥–µ —Ä–µ–∞–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–∞ –∑ –≥—Ä–æ—é.
              </div>
            </div>
          </aside>

          <!-- MAIN -->
          <section class="cab-main cab-card">
            <!-- INFO TAB -->
            <div class="tab" id="tab-info">
              <div class="cab-head">
                <div>
                  <h1>–ü—Ä–∏–≤—ñ—Ç, <span id="nick">‚Äî</span>!</h1>
                  <div class="cab-sub">–¶–µ —Ç–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è.</div>
                </div>
                <span class="pill">üü¢ –û–Ω–ª–∞–π–Ω: <b id="online">0</b></span>
              </div>

              <div class="kpi">
                <div class="box cab-card wide">
                  <div class="profile">
                    <div class="avatar" id="ava">
                      <span id="avaText">GI</span>
                    </div>
                    <div>
                      <div class="pname" id="pname">‚Äî</div>
                      <div class="pid">–Ü–≥—Ä–æ–≤–∏–π ID: <b id="pid">‚Äî</b> ‚Ä¢ –û—Å—Ç–∞–Ω–Ω—ñ–π –≤—Ö—ñ–¥: <b id="last">‚Äî</b></div>
                      <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
                        <span class="pill">üëë –°—Ç–∞—Ç—É—Å: <b id="status">‚Äî</b></span>
                        <span class="pill">üéñ –†—ñ–≤–µ–Ω—å: <b id="lvl">‚Äî</b></span>
                        <span class="pill">üèõ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è: <b id="org">‚Äî</b></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="box cab-card">
                  <div class="title">–ö–∞—Ä–±–æ–≤–∞–Ω—Ü—ñ</div>
                  <div class="value" id="coins">0</div>
                  <div class="hint">GTAINE coins</div>
                </div>

                <div class="box cab-card">
                  <div class="title">–ú–æ—è –≥–æ—Ç—ñ–≤–∫–∞</div>
                  <div class="value" id="cash">‚Ç¥0</div>
                  <div class="hint">–ì—Ä–æ—à—ñ –ø—Ä–∏ —Å–æ–±—ñ</div>
                </div>

                <div class="box cab-card">
                  <div class="title">–ù–∞ —Ä–∞—Ö—É–Ω–∫–∞—Ö</div>
                  <div class="value" id="bank">‚Ç¥0</div>
                  <div class="hint">–ë–∞–Ω–∫/–∫–∞—Ä—Ç–∏</div>
                </div>
              </div>

              <div class="grid2">
                <div class="box cab-card">
                  <div style="font-weight:900">–í–∞—à—ñ –Ω–∞–≤–∏—á–∫–∏ (–¥–µ–º–æ)</div>
                  <div style="opacity:.7;margin-top:6px;font-size:12px">–ü—ñ–∑–Ω—ñ—à–µ –≤–∏—Ç—è–≥–Ω–µ–º–æ –∑ API.</div>
                  <div style="margin-top:12px;display:grid;gap:10px">
                    <div class="pill">M4: <b>32%</b></div>
                    <div class="pill">MP5: <b>4%</b></div>
                    <div class="pill">Sniper: <b>4%</b></div>
                  </div>
                </div>

                <div class="box cab-card">
                  <div style="font-weight:900">–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</div>
                  <div style="margin-top:12px;display:grid;gap:10px">
                    <div class="pill">EXP: <b id="exp">83,200</b> / <span style="opacity:.7">105,000</span></div>
                    <div class="pill">–¢–µ–ª–µ—Ñ–æ–Ω: <b id="phone">–í—ñ–¥—Å—É—Ç–Ω—ñ–π</b></div>
                    <div class="pill">–¢–∞—Ä–∏—Ñ: <b id="plan">–ó–∞–∫—ñ–Ω—á–∏–≤—Å—è</b></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- PROPERTY TAB -->
            <div class="tab hide" id="tab-property">
              <div class="cab-head">
                <div>
                  <h1>–í–∞—à–µ –º–∞–π–Ω–æ</h1>
                  <div class="cab-sub">–ë—É–¥–∏–Ω–∫–∏ / –±—ñ–∑–Ω–µ—Å–∏ / —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–∑–∞—Ä–∞–∑ –¥–µ–º–æ).</div>
                </div>
              </div>

              <div class="grid2">
                <div class="box cab-card">
                  <div style="font-weight:900">–¢–≤–æ—ó –±—É–¥–∏–Ω–∫–∏ / –∫–≤–∞—Ä—Ç–∏—Ä–∏</div>
                  <div style="opacity:.75;margin-top:8px" id="homes">–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î –∂–∏—Ç–ª–∞</div>
                </div>
                <div class="box cab-card">
                  <div style="font-weight:900">–¢–≤–æ—ó –±—ñ–∑–Ω–µ—Å–∏</div>
                  <div style="opacity:.75;margin-top:8px" id="biz">–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î –±—ñ–∑–Ω–µ—Å—ñ–≤</div>
                </div>
              </div>

              <div class="box cab-card" style="margin-top:14px">
                <div style="font-weight:900">–¢–≤—ñ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                <div style="opacity:.75;margin-top:8px" id="cars">–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É</div>
              </div>
            </div>

            <!-- RATING TAB -->
            <div class="tab hide" id="tab-rating">
              <div class="cab-head">
                <div>
                  <h1>FORBES (–†–µ–π—Ç–∏–Ω–≥)</h1>
                  <div class="cab-sub">–¢–æ–ø –±–∞–≥–∞—Ç—ñ—ó–≤ (–¥–µ–º–æ —Å–ø–∏—Å–æ–∫).</div>
                </div>
              </div>

              <table class="table">
                <thead>
                  <tr>
                    <th style="width:90px">–ú—ñ—Å—Ü–µ</th>
                    <th>–Ü–º º—è</th>
                    <th style="width:220px">–ì—Ä–æ—à–µ–π</th>
                    <th style="width:140px">–†—ñ–≤–µ–Ω—å</th>
                  </tr>
                </thead>
                <tbody id="ratingRows"></tbody>
              </table>
            </div>

            <!-- ROULETTE TAB -->
            <div class="tab hide" id="tab-roulette">
              <div class="cab-head">
                <div>
                  <h1>–Ü–≥—Ä–æ–≤–∞ —Ä—É–ª–µ—Ç–∫–∞</h1>
                  <div class="cab-sub">–ú–æ–∂–µ—à –≤—ñ–¥–∫—Ä–∏—Ç–∏ —Ä—É–ª–µ—Ç–∫—É –≤ –æ–∫—Ä–µ–º—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –∞–±–æ —Ç—É—Ç.</div>
                </div>
              </div>

              <div class="box cab-card">
                <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between">
                  <div>
                    <div style="font-weight:900">–†—É–ª–µ—Ç–∫–∞ GTAINE</div>
                    <div style="opacity:.7;font-size:12px;margin-top:4px">–ó–∞—Ä–∞–∑ —É —Ç–µ–±–µ: <b id="rc">0</b> coins</div>
                  </div>
                  <div style="display:flex;gap:10px;flex-wrap:wrap">
                    <a class="btn secondary" href="./roulette.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ —Ä—É–ª–µ—Ç–∫—É</a>
                    <button class="btn" id="btnFreeSpin">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Å–ø—ñ–Ω (–¥–µ–º–æ)</button>
                  </div>
                </div>

                <div id="spinMsg" class="msg" style="margin-top:12px"></div>
              </div>
            </div>

          </section>
        </div>
      </section>
    </div>
  </main>

  <script>
    // =========================
    //  GTAINE CABINET (DEMO)
    //  –ë–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞. –ü—ñ–∑–Ω—ñ—à–µ –∑–∞–º—ñ–Ω–∏–º–æ fetch –Ω–∞ –≤–∞—à API.
    // =========================

    const $ = (s) => document.querySelector(s);
    const auth = $("#auth");
    const dash = $("#dash");
    const authMsg = $("#authMsg");

    const STORAGE_KEY = "gtaine_user_v1";

    // –î–µ–º–æ-–±–∞–∑–∞ (—Ñ–µ–π–∫). –ü–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏—à—å –Ω–∞ API.
    const DEMO_USERS = [
      {
        email: "demo@gtaine.com",
        pass: "123456",
        profile: {
          nick: "Vladyslav Liutskeforovych",
          id: 40167,
          status: "–ë–µ–∑ PREMIUM",
          lvl: 21,
          org: "–í—ñ–¥—Å—É—Ç–Ω—è",
          coins: 8,
          cash: 208572,
          bank: 23535,
          last: "16.02.2026 12:11:23",
          region: "GTAINE",
          server: "GI"
        },
        property: {
          homes: [],
          biz: [],
          cars: ["Audi Q7 (–±—ñ–ª–∏–π)"]
        }
      }
    ];

    function formatMoneyUAH(n){
      const s = (n||0).toLocaleString("uk-UA");
      return "‚Ç¥" + s;
    }

    function setActiveTab(name){
      document.querySelectorAll(".cab-nav button[data-tab]").forEach(b=>{
        b.classList.toggle("active", b.dataset.tab === name);
      });
      document.querySelectorAll(".tab").forEach(t=>t.classList.add("hide"));
      $("#tab-" + name).classList.remove("hide");
    }

    function saveSession(user){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(user));
    }
    function loadSession(){
      try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || "null"); }
      catch { return null; }
    }
    function clearSession(){
      localStorage.removeItem(STORAGE_KEY);
    }

    function findUser(email, pass){
      return DEMO_USERS.find(u => u.email.toLowerCase() === String(email).toLowerCase() && u.pass === String(pass)) || null;
    }

    // –†–µ–Ω–¥–µ—Ä –∫–∞–±–∏–Ω–µ—Ç–∞
    function renderCabinet(user){
      const p = user.profile;

      $("#srv").textContent = p.server || "GI";
      $("#region").textContent = p.region || "GTAINE";
      $("#who").textContent = p.nick;

      $("#nick").textContent = p.nick.split(" ")[0] || p.nick;
      $("#pname").textContent = p.nick;
      $("#pid").textContent = p.id;
      $("#last").textContent = p.last;

      $("#status").textContent = p.status;
      $("#lvl").textContent = p.lvl;
      $("#org").textContent = p.org;

      $("#coins").textContent = (p.coins ?? 0).toLocaleString("uk-UA");
      $("#cash").textContent = formatMoneyUAH(p.cash);
      $("#bank").textContent = formatMoneyUAH(p.bank);

      $("#rc").textContent = (p.coins ?? 0);

      // –∞–≤–∞—Ç–∞—Ä (–ø–æ–∫–∞ –±—É–∫–≤–∞–º–∏)
      const initials = (p.nick || "GI").split(" ").slice(0,2).map(x=>x[0]).join("").toUpperCase();
      $("#avaText").textContent = initials;

      // Property
      const pr = user.property || {homes:[],biz:[],cars:[]};
      $("#homes").textContent = pr.homes.length ? pr.homes.join(", ") : "–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î –∂–∏—Ç–ª–∞";
      $("#biz").textContent   = pr.biz.length ? pr.biz.join(", ") : "–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î –±—ñ–∑–Ω–µ—Å—ñ–≤";
      $("#cars").textContent  = pr.cars.length ? pr.cars.join(", ") : "–ù–∞—Ä–∞–∑—ñ —É –≤–∞—Å –Ω–µ–º–∞—î —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É";

      // Rating demo
      const rating = [
        { place: 1, name: "–î–∂–æ–Ω –£—ñ–∫–∫ [789]", money: 4575707725, lvl: 28 },
        { place: 2, name: "–ù–∞—Ç–∞ –£—ñ–∫–∫ [693]", money: 4143893696, lvl: 30 },
        { place: 3, name: "–ú—ñ—à–∞ –ê–∑–∞–º–æ–≤", money: 2412438501, lvl: 22 },
        { place: 4, name: p.nick + " [" + p.id + "]", money: (p.cash+p.bank), lvl: p.lvl },
      ].sort((a,b)=>b.money-a.money).map((x,i)=>({...x, place:i+1}));

      $("#ratingRows").innerHTML = rating.map(r => `
        <tr class="row">
          <td><span class="pill">#${r.place}</span></td>
          <td style="font-weight:900">${r.name}</td>
          <td style="font-weight:900;color:rgba(170,255,200,.95)">${formatMoneyUAH(r.money)}</td>
          <td><span class="pill">${r.lvl} LVL</span></td>
        </tr>
      `).join("");

      // online demo
      $("#online").textContent = "0";
    }

    function openDash(user){
      auth.classList.add("hide");
      dash.classList.remove("hide");
      renderCabinet(user);
      setActiveTab("info");
    }
    function openAuth(){
      dash.classList.add("hide");
      auth.classList.remove("hide");
      authMsg.textContent = "";
      authMsg.className = "msg";
    }

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–∞–±–∏–Ω–µ—Ç–∞
    document.querySelectorAll(".cab-nav button[data-tab]").forEach(btn=>{
      btn.addEventListener("click", ()=> setActiveTab(btn.dataset.tab));
    });

    $("#btnLogout").addEventListener("click", ()=>{
      clearSession();
      openAuth();
    });

    // –õ–æ–≥–∏–Ω
    $("#btnLogin").addEventListener("click", ()=>{
      const email = $("#email").value.trim();
      const pass  = $("#pass").value;

      const user = findUser(email, pass);
      if(!user){
        authMsg.textContent = "–ù–µ–≤—ñ—Ä–Ω–∞ –ø–æ—à—Ç–∞ –∞–±–æ –ø–∞—Ä–æ–ª—å (–ø–æ–∫–∏ –¥–µ–º–æ). –ù–∞—Ç–∏—Å–Ω–∏ ‚Äú–î–µ–º–æ-–≤—Ö—ñ–¥‚Äù.";
        authMsg.className = "msg bad";
        return;
      }
      saveSession(user);
      openDash(user);
    });

    $("#btnDemo").addEventListener("click", ()=>{
      const user = DEMO_USERS[0];
      saveSession(user);
      openDash(user);
    });

    // Free spin demo (–≤ –∫–∞–±–∏–Ω–µ—Ç–µ)
    $("#btnFreeSpin").addEventListener("click", ()=>{
      const sess = loadSession();
      if(!sess) return;

      const mult = [0, 0.5, 1, 1.5, 2][Math.floor(Math.random()*5)];
      const win = Math.round(50 * mult);
      sess.profile.coins = Math.max(0, (sess.profile.coins||0) + win);

      saveSession(sess);
      renderCabinet(sess);

      const msg = $("#spinMsg");
      msg.className = "msg " + (win>0 ? "good" : "bad");
      msg.textContent = win>0 ? `‚úÖ –í–∏–≥—Ä–∞—à: +${win} coins (x${mult})` : `‚ùå –ü—Ä–æ–≥—Ä–∞—à (x${mult})`;
    });

    // –ê–≤—Ç–æ-–≤—Ö–æ–¥ –µ—Å–ª–∏ —É–∂–µ –ª–æ–≥–∏–Ω–∏–ª—Å—è
    const sess = loadSession();
    if(sess) openDash(sess);
  </script>
</body>
</html>
